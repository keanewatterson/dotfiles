{{- $pathVars := dict -}}
{{- template "path-list.tmpl" (dict "Root" . "Vars" $pathVars) -}}
{{- $pathList := index $pathVars "pathList" -}}
  
{{ if findExecutable "eza" $pathList }}
lt() {
  local level fpath

  if (( $# == 0 )); then
    fpath="."
    level=3

  elif (( $# == 1 )); then
    if [[ "$1" == <-> ]]; then
      # single numeric argument
      fpath="."
      level="$1"
    else
      # single string argument
      fpath="$1"
      level=3
    fi

  else
    # two or more arguments: use first two
    level="$1"
    fpath="$2"
  fi

  if (( level >= 3 )); then
    eza --all --ignore-glob=".git|.venv" --tree --level="${level}" "${fpath}"
  else
    eza --all --tree --level="${level}" "${fpath}"
  fi
}

{{- end }}
